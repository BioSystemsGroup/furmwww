<html>
   <head>
      <title>FURM - Software</title>
          <style>
             dt {
               font-weight: bold;
             }
             .main {
               text-align: left;
             }
             dd {
               line-height: 200%;
             }
             td {
               text-align: center;
               font-weight: bold;
             }
             ol li { 
               margin-bottom: 10px;
             }
             ul li { 
               margin-bottom: 10px;
             }
          </style>
   </head>
  <body bgcolor="#ffffcc" text="#000000" link="#000099" alink="#cc00cc" vlink="#cc0066">
    <iframe src="menu.html" frameborder="0" width="100%"></iframe>

    <center><h1>Software</h1></center>

    <p>There is no software explicitly for FURM.  FURM is a
      <strong>method</strong> by which models are created.  The only
      software associated with FURM so far is the code for the ISL
      models and the experimental apparatus in which they sit.</p>

    <h2>The In Silico Liver (ISL)</h2>

    <p>The ISL models a mammalian liver undergoing perfusion. It
    represents a liver as a large, concurrent collection of similar
    lobules, which are the functional units of the liver.  Components
    mimic essential hepatic structure and behavior.  Sinusoidal blood
    flow through the lobules is represented by a directed graph
    connecting Sinusoidal Segment (SS) nodes.  There are many distinct
    flow paths from PORTAL VEIN TRACTS (PV) to CV.  A SS is a
    discretized, tube-like structure comprised of a BLOOD "Core"
    wrapped by three 2D grids (Spaces A-C), which together simulate a
    3D structure. SS geometry is specified with two pseudo-random
    distributions specifying their length and circumference to provide
    sufficient variety of COMPOUND travel paths.  Compounds are
    represented using mobile objects that move through the LOBULE and
    interact with the various components of SSs. A typical COMPOUND
    maps to many drug molecules. A COMPOUND's behavior is determined
    by the physicochemical properties of its referent compound, along
    with the LOBULE and SS features it encounters. Multiple, different
    COMPOUNDs can percolate through the graph during the same
    experiment. Objects called CELLs (two types: ENDOTHELIAL CELLs and
    HEPATOCYTEs) represent an unspecified number of cells. CELLs
    contain objects and methods, including BINDERs and ENZYMEs, that
    interact with COMPOUND as it flows through an SS.  ENZYMEs in
    HEPATOCYTEs contain a METABOLIZE function that destroys COMPOUND
    and creates METABOLITE, which can then flow out through the SS
    network or be collected in the BILE DUCT.  The COMPOUND that flows
    out the CV is counted and used to validate against wet-lab
    perfusion data collected via a fraction collector.</p>

    <p>More information on the ISL can be
    found <a href="./isl.html">here</a> as well as in some of
    our <a href="http://biosystems.ucsf.edu/publications.html">published
    papers.</a></p>


    <h2>Downloads</h2>

    <ul>

       <li><a alt="Cloud vs. Cluster ISL code"
       href="http://www.biomedcentral.com/content/supplementary/1752-0509-4-168-s2.zip">
       Cloud vs. Cluster ISL code</a> for
       our <a href="http://www.biomedcentral.com/1752-0509/4/168">paper
       in BMC Systems Biology</a></li>

       <li><a href="./isl/cvsc">Browseable Source Code for an example
       Cloud vs. Cluster experiment.</a></li>

    </ul>

    <h2>Documentation</h2>

    <p>The only documentation we have so far is the content of our
      Technical Report and submitted papers, available in the <a
      href="./documents.html" target="_top">Documents</a> section.</p>

    <p>However, below are some UML-ish diagrams that help explain the
      structure of the software.  These diagrams have been
      purposefully simplified to get across the primary structure of
      the system.</p>

    <h2>Main Class Diagram</h2>

    <p>This is the class diagram for the experiment level of the ISL.
      This is the level at which experiments are set up, controlled,
      and logged.</p> <center><img alt="Main Class Diagram"
      src="./img/main_inheritance.png"></center>

    <h2>Reference Model Inheritance Diagram</h2>

    <p>This shows the rather simple inheritance relationships used in
      the RefModel.  The simplicity of this diagram is not really
      deceiving because this model really is just a simple
      mathematical function evaluated at each time step.</p>
      <center><img alt="RefModel Inheritance Diagram"
      src="./img/refModel_inheritance.png"></center>

    <h2>Articulated Model Inheritance</h2>

    <p>The ArtModel is clearly the most complicated component of the
      ISL.  When looking at this and the subsequent constituents
      diagrams, refer to the description of the modelon the <a
      href="./isl.html" target="_top">ISL</a> page.</p> <center><img
      alt="ArtModel Inheritance Diagram"
      src="./img/artModel_inheritance.png"></center>

    <h2>Articulated Model Constituents</h2>

    <p>This diagram lists the classes whose objects participate in the
      evaluation of the ArtModel.  It indicates run-time
      composition.</p> <center><img alt="ArtModel Constituents"
      src="./img/artModel_constituents.png"></center>

    <h2>Model Utilities Inheritance</h2>

    <p>The model utilities are miscellaneous things we had to create
      to augment the Swarm framework to support the ISL.  Other ABM
      packages have analogues to many of these components and when the
      ISL is ported to another platform, this package is expected to
      change accordingly.</p> <center><img alt="ModelUtils
      Inheritance" src="./img/modelUtils_inheritance.png"></center>

    <h2>Graph Package Inheritance</h2>

    <p>This is a modified version of a directed graph library
      contribution to Swarm.  There are a number of changes we made to
      the API and we added some extra functionality.  But, the
      structure is the same.</p> <center><img alt="Graph Inheritance"
      src="./img/graph_inheritance.png"></center>

    <h2>Local Random Constituents</h2>

    <p>These are a few random number distributions are provided in the
      global scope for use in the various models. They're "local" to
      the ISL and distinct from the default distributions provided by
      Swarm.</p> <center><img alt="LocalRandom Constituents"
      src="./img/LocalRandom_constituents.png"></center>

    <h2>Notes</h2>

    <ul>

      <li>The ISL is written using a combination of Objective-C and
        C++.  Hence, the elements of these diagrams do not translate
        as directly as they would to Java.</li>

      <li>We are in the process of making several extensions to the
        model, including adding enzyme induction and elimination.  So,
        these diagrams are already slightly out-of-date.  But, there
        should be enough here to present the gist.</li>

      <li>The GML (Graph Modeling Language) class is just an
        abstraction allowing the ArtModel to read the directed graph
        of sinusoidal segments from a GML file.  It's not clear that
        GML is the best format for this application; but, it is much
        more self-descriptive than a simple adjacency matrix and it
        can include visualization information.  We intend to add
        visualization in the near future.  In the meantime, we
        manipulate the graphs with tools like Tulip and GVF.</li>

      <li>We also have a lobule architecture specific parametrized way
        of specifying graphs called the LobuleSpec in the form of a
        matrix with the following structure:
        <table border="1">
          <tr>
            <td>Zone I nodes</td> <td>Zone II nodes</td> <td>Zone III nodes</td>
          </tr>
          <tr>
            <td>I->I edges</td> <td>I->II edges</td> <td>I->III edges</td>
          </tr>
          <tr>
            <td>II->I edges</td> <td>II->II edges</td> <td>II->III edges</td>
          </tr>
          <tr>
            <td>III->I edges</td> <td>III->II edges</td> <td>III->III edges</td>
          </tr>
        </table>
      </li>

    </ul>

    <h2>Questions?</h2>

    <p>If you have any questions about the model or the software,
      contact Professor Hunt via the contact info on the <a
      href="./index.html" target="_top">Home page</a>.</p>

    <p>We also have a mailing list for the discussion of FURM-related
    projects, software, design goals, and all the peripheral subjects
    like tools, techniques, etc.  If you would like to stay informed
    about FURM, subscribe to this mailing list by following the
    instructions at: <a
    href="http://tempusdictum.com/mailman/listinfo/furm">
    http://tempusdictum.com/mailman/listinfo/furm</a></p>




   <iframe src="menu.html" frameborder="0" width="100%"></iframe>
   <iframe src="footer.html" frameborder="0" width="100%"></iframe>

</body>
</html>
